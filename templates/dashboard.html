<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
</head>
<body>
    <h1>Welcome to the Dashboard</h1>
    <!-- Flash Messages -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="flash-messages">
                {% for message in messages %}
                    <div class="flash-message">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}
    <!-- Tab Buttons -->
    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'profile')">My Profile</button>
        <button class="tablinks" onclick="openTab(event, 'health_data')">Enter Health Data</button>
        <button class="tablinks" onclick="openTab(event, 'view_data')">View Health Data</button>
       
            <!-- ... (your existing tabs) -->
            <a href="{{ url_for('download_health_data_csv') }}" class="tablinks">Download Health Data (CSV)</a>
            <a href="{{ url_for('download_entire_health_data_csv') }}" class="tablinks">Download full Health Data (CSV)</a>
            
        
        

    </div>
    
    <!-- Profile Tab Content -->
    <div id="profile" class="tabcontent">
        <h2>My Profile</h2>
        <p>User ID: {{ user.id }}</p>
        <p>Name: {{ user.name }}</p>
        <p>Email: {{ user.email }}</p>
        <p>Phone Number: {{ user.phone_number }}</p>
    </div> 

    <!-- view_data Tab Content -->
    <div id="view_data" class="tabcontent">
        {% for data in health_data %}
            <tr>
                <!-- <td>{{ data.timestamp }}</td> -->
                <td>{{ data.age }}</td>
                <td>{{ data.gender }}</td>
                <td>{{ "Yes" if data.fever else "No" }}</td>
                <td>{{ data.heart_rate }}</td>
                <td>{{ "Yes" if data.acidity else "No" }}</td>
                <td>{{ "Yes" if data.vomiting else "No" }}</td>
                <td>{{ "Yes" if data.headache else "No" }}</td>
                <td>{{ "Yes" if data.breathlessness else "No" }}</td>
                <td>{{ "Yes" if data.cough else "No" }}</td>
                <td>{{ "Yes" if data.anxiety else "No" }}</td>
                <!-- Add cells for other health data attributes -->
            </tr>
        {% endfor %}
    </div>
    
    <!-- Health Data Tab Content -->
    <div id="health_data" class="tabcontent">
        <h2>Enter Health Data</h2>
        <form method="POST" action="/add_health_data">
            <label for="age">AGE:</label>
            <input type="number" id="age" name="age"><br><br>

            <label for="gender">Gender:</label>
            <input type="text" id="gender" name="gender"><br><br>
            
            <label for="fever">Fever:</label>
            <input type="checkbox" id="fever" name="fever"><br><br>
            
            <label for="heart_rate">Heart Rate:</label>
            <input type="number" id="heart_rate" name="heart_rate"><br><br>

            <label for="acidity">Acidity:</label>
            <input type="checkbox" id="acidity" name="acidity"><br><br>

            <label for="vomiting">Vomiting:</label>
            <input type="checkbox" id="vomiting" name="vomiting"><br><br>

            <label for="headache">Headache:</label>
            <input type="checkbox" id="headache" name="headache"><br><br> 

            <label for="breathlessness">Breathlessness:</label>
            <input type="checkbox" id="breathlessness" name="breathlessness"><br><br> 

            <label for="cough">Cough:</label>
            <input type="checkbox" id="cough" name="cough"><br><br> 

            <label for="anxiety">Anxiety:</label>
            <input type="checkbox" id="anxiety" name="anxiety"><br><br>
            
            <!-- Add similar fields for other health data attributes -->
            
            <button type="submit">Submit Health Data</button>
        </form>
    </div>
    
    <!-- View Health Data Tab Content -->
    <div id="view_data" class="tabcontent">
        {% include 'view_data.html' %}
    </div>
    <!-- JavaScript for Tab Switching -->
    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }
    </script>
    
</body>
</html>
